<!-- Modern Navigation -->
<nav class="navbar navbar-expand-lg navbar-dark bg-gradient-dark fixed-top shadow-sm">
  <div class="container-fluid">
    <a class="navbar-brand d-flex align-items-center" href="#">
      <svg class="me-2" width="30" height="30" viewBox="0 0 24 24" fill="#0066cc">
        <path d="M21,4H3A2,2 0 0,0 1,6V19A2,2 0 0,0 3,21H21A2,2 0 0,0 23,19V6A2,2 0 0,0 21,4M3,19V6H11V19H3M21,19H13V6H21V19M14,9.5H20V11H14V9.5M14,12H20V13.5H14V12M14,14.5H20V16H14V14.5Z"/>
      </svg>
      <span class="fw-bold text-gradient">Social Book Network</span>
    </a>
    <button class="navbar-toggler border-0" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav">
      <span class="navbar-toggler-icon"></span>
    </button>
    <div class="collapse navbar-collapse" id="navbarNav">
      <ul class="navbar-nav ms-auto">
        <li class="nav-item">
          <a class="nav-link px-3 nav-hover text-blue" routerLink="/home">Home</a>
        </li>
        <li class="nav-item">
          <a class="nav-link px-3 nav-hover text-blue" routerLink="/books">Books</a>
        </li>
        <li class="nav-item">
          <a class="nav-link px-3 nav-hover text-blue" routerLink="/discover">Discover</a>
        </li>
        <li class="nav-item ms-2" *ngIf="!userName">
          <a class="btn btn-outline-primary rounded-pill px-4" href="#">Sign In</a>
        </li>
      </ul>
      <div class="ms-3 d-flex align-items-center" *ngIf="userName">
        <div class="avatar-circle d-flex justify-content-center align-items-center text-white fs-5">{{ userName[0] }}</div>
        <span class="ms-2 text-gradient fw-medium">{{ userName }}</span>
      </div>
    </div>
  </div>
</nav>

<!-- Hero Section with Glassmorphism -->
<section class="hero-section position-relative overflow-hidden">
  <div class="animated-bg">
    <div class="floating-circle"></div>
    <div class="floating-square"></div>
    <div class="floating-dots"></div>
    <div class="gradient-overlay"></div>
  </div>

  <div class="container position-relative z-2 py-5">
    <div class="row min-vh-80 align-items-center">
      <!-- Left Content Section -->
      <div class="col-lg-6">
        <div class="hero-content pb-5" data-aos="fade-up">
          <div class="badge bg-primary-subtle text-primary mb-4 px-3 py-2 rounded-pill d-inline-flex align-items-center">
            <i class="bi bi-bookmark-check me-1"></i>
            Over 1 Million Books Available
          </div>

          <h1 class="hero-title display-3 fw-bold mb-4 text-dark">
            Dive Into the World of
            <div class="text-animation-wrapper d-inline-block">
              <span class="text-gradient animated-text fw-bold">Books</span>
              <span class="text-gradient animated-text fw-bold">Stories</span>
              <span class="text-gradient animated-text fw-bold">Knowledge</span>
            </div>
          </h1>

          <p class="lead text-dark-blue mb-5 opacity-75">
            Join a global community of readers, discovering new books, sharing insights, and connecting with book lovers worldwide.
          </p>

          <div class="hero-actions d-flex gap-3 align-items-center">
            <button class="btn btn-primary btn-lg rounded-pill px-5 py-3 hover-lift d-flex align-items-center">
              <i class="bi bi-book-half me-2"></i>
              Start Reading
            </button>
            <button class="btn btn-outline-dark btn-lg rounded-pill px-5 py-3 hover-lift d-flex align-items-center">
              <i class="bi bi-play-circle me-2"></i>
              Watch Demo
            </button>
          </div>

          <div class="social-proof mt-5 d-flex align-items-center gap-4">
            <div class="user-avatars d-flex align-items-center">
              <img src="assets/books/book1.jpg" class="avatar rounded-circle border-white" alt="User 1">
              <img src="assets/books/book1.jpg" class="avatar rounded-circle border-white" alt="User 2">
              <img src="assets/books/book1.jpg" class="avatar rounded-circle border-white" alt="User 3">
              <span class="avatar-more d-flex justify-content-center align-items-center rounded-circle bg-primary text-white">+2k</span>
            </div>
            <div class="rating">
              <div class="stars mb-1 d-flex gap-1">
                <i class="bi bi-star-fill text-warning"></i>
                <i class="bi bi-star-fill text-warning"></i>
                <i class="bi bi-star-fill text-warning"></i>
                <i class="bi bi-star-fill text-warning"></i>
                <i class="bi bi-star-fill text-warning"></i>
              </div>
              <span class="text-muted">Trusted by 2,000+ readers</span>
            </div>
          </div>
        </div>
      </div>

      <!-- Right 3D Book Gallery Section -->
      <div class="col-lg-6 d-flex justify-content-center align-items-center">
        <div class="book-gallery position-relative h-100 w-100">
          <div class="book-showcase position-relative" style="transform-style: preserve-3d; animation: showcase-rotate 20s infinite linear;">
            <div class="book-container position-relative" style="transform-style: preserve-3d;">
              <!-- Featured Book -->
              <div class="featured-book position-relative" style="transform: rotateY(-20deg) rotateX(10deg); transform-style: preserve-3d;">
                <div class="book-card main-book shadow-lg position-relative rounded-4 overflow-hidden">
                  <div class="book-cover position-relative">
                    <img src="{{ mostTakenBooks[0]?.cover }}" class="w-100 h-100 object-fit-cover" alt="{{ mostTakenBooks[0]?.title || 'Featured Book' }}">
                    <div class="book-effect position-absolute top-0 start-0 w-100 h-100 bg-gradient"></div>
                  </div>
                  <div class="book-spine position-absolute top-0 start-0 h-100" style="width: 40px; background: linear-gradient(90deg, #1a237e, #0066cc); transform: rotateY(-90deg); transform-origin: right;"></div>
                </div>
                <div class="book-reflection position-absolute bottom-0 start-10 w-80 h-30" style="background: linear-gradient(to bottom, rgba(255,255,255,0.1) 0%, rgba(255,255,255,0) 100%); filter: blur(15px); transform: rotateX(180deg) scaleY(0.5); opacity: 0.7;"></div>
              </div>

              <!-- Floating Books -->
              <div class="floating-books position-absolute">
                <div class="book-card floating shadow-lg position-absolute rounded-4 overflow-hidden" style="--delay: 0s; top: -120px; right: -60px; width: 180px; height: 270px;">
                  <img src="{{ mostTakenBooks[1]?.cover }}" class="w-100 h-100 object-fit-cover" alt="{{ mostTakenBooks[1]?.title || 'Book 1' }}">
                </div>
                <div class="book-card floating shadow-lg position-absolute rounded-4 overflow-hidden" style="--delay: 2s; top: 60px; right: -140px; width: 180px; height: 270px;">
                  <img src="{{ mostTakenBooks[2]?.cover }}" class="w-100 h-100 object-fit-cover" alt="{{ mostTakenBooks[2]?.title || 'Book 2' }}">
                </div>
                <div class="book-card floating shadow-lg position-absolute rounded-4 overflow-hidden" style="--delay: 4s; top: 180px; right: -80px; width: 180px; height: 270px;">
                  <img src="{{ featuredBooks[0]?.cover }}" class="w-100 h-100 object-fit-cover" alt="{{ featuredBooks[0]?.title || 'Book 3' }}">
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</section>

<!-- Most Taken Books Section -->
<section class="py-5 bg-light">
  <div class="container">
    <div class="section-header text-center mb-5">
      <h2 class="text-gradient h1 fw-bold">Most Taken Books</h2>
      <p class="text-muted lead">Discover the books readers canâ€™t put down.</p>
    </div>

    <div class="row row-cols-1 row-cols-md-3 g-4">
      <div class="col" *ngFor="let book of mostTakenBooks">
        <div class="card h-100 border-0 shadow-sm rounded-4 overflow-hidden hover-lift">
          <img src="{{ book.cover }}" class="card-img-top w-100 object-fit-cover" alt="{{ book.title }}" style="height: 300px;">
          <div class="card-body bg-white p-4">
            <h5 class="card-title text-dark fw-semibold">{{ book.title }}</h5>
            <p class="card-text text-muted">Borrowed: 20 times</p>
            <div class="progress mt-3" style="height: 8px;">
              <div class="progress-bar bg-primary" role="progressbar" [style.width.%]="(20 / 150) * 100" aria-valuenow="20" aria-valuemin="0" aria-valuemax="150"></div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</section>

<!-- Featured Books Section -->
<section class="py-5">
  <div class="container">
    <div class="section-header text-center mb-5">
      <h2 class="text-gradient h1 fw-bold">Featured Books</h2>
      <p class="text-muted lead">Explore our handpicked collection of literary gems.</p>
    </div>

    <div class="row row-cols-1 row-cols-md-3 g-4">
      <div class="col" *ngFor="let book of featuredBooks">
        <div class="card h-100 border-0 shadow-sm rounded-4 overflow-hidden hover-lift position-relative">
          <img src="{{ book.cover }}" class="card-img-top w-100 object-fit-cover" alt="{{ book.title }}" style="height: 300px;">
          <div class="card-overlay position-absolute top-0 start-0 w-100 h-100 d-flex flex-column justify-content-end p-3 bg-dark bg-opacity-50 opacity-0 transition-opacity" style="transition-duration: 0.3s;">
            <div class="overlay-content">
              <h5 class="card-title mb-2 text-white fw-semibold">{{ book.title }}</h5>
              <p class="card-author mb-3 text-light">By {{ book.author }}</p>
              <a [routerLink]="['/book-details', book.id]" class="btn btn-light-blur rounded-pill px-4 py-2">View Details</a>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</section>
